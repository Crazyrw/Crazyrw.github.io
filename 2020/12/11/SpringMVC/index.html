

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="æ¢¦æƒ³å¾ˆçè´µï¼ŒåŠªåŠ›ç‰¹åˆ«é…·ã€‚-xback">
  <meta name="author" content="Crazyrw">
  <meta name="keywords" content="">
  <title>SpringMVC - Crazyrw&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":true,"baidu":"7d2fd3d56f2287a0bda354d214258de6","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Crazyrw's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/images/bg/post.webp') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="SpringMVC">
              
            </span>

            <p class="h2"><a id="rainbow" href=''>ğŸŒˆ è·å–ä¸­...</a></p>
            <script>
              fetch('https://api.eatrice.top')
                .then(response => response.json())
                .then(data => {
                  var rainbow = document.getElementById('rainbow');
                  rainbow.innerHTML = data.Content;
                  rainbow.href = "https://rainbow.eatrice.top/?ID=" + data.ID;
                })
                .catch(console.error)
              </script>


            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-12-11 18:44" pubdate>
        December 11, 2020 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      13.4k å­—
    </span>
  

  

  
  
    
      <!-- ä¸è’œå­ç»Ÿè®¡æ–‡ç« PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">SpringMVC</h1>
            
              <p class="note note-info">
                
                  æœ¬æ–‡æœ€åæ›´æ–°äºï¼š15 days ago
                
              </p>
            
            <div class="markdown-body">
              <p>ï¼ˆï¼šå¦‚æœæœ‰éœ€è¦ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨ç‹‚ç¥è¯´å…¬ä¼—å·ï¼Œæˆ‘ä¹Ÿæ˜¯ç‹‚ç²‰å“ˆå“ˆï¼‰</p>
<p>ssm = mybatis + Spring + SpringMVC <strong>MVCä¸‰å±‚æ¶æ„</strong></p>
<p>ä¹‹åçš„å­¦ä¹ è®¡åˆ’ï¼šSpringMVC + Vue + SpringBoot + SpringCloud + Linux</p>
<p>Spring: IOC AOP(æ¯”è¾ƒé‡è¦)</p>
<p>SpringMVC: SpringMVCçš„æ‰§è¡Œæµç¨‹(æ¯”è¾ƒé‡è¦)</p>
<p>è¯¥åšå®¢æ‰€åˆ›å»ºçš„é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/Crazyrw/SpringMVC.git">https://github.com/Crazyrw/SpringMVC.git</a></p>
<h2 id="1-å›é¡¾MVC"><a href="#1-å›é¡¾MVC" class="headerlink" title="1. å›é¡¾MVC"></a>1. å›é¡¾MVC</h2><h3 id="1-1-ä»€ä¹ˆæ˜¯MVC"><a href="#1-1-ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯MVC"></a>1.1 ä»€ä¹ˆæ˜¯MVC</h3><ul>
<li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚</li>
<li>æ˜¯å°†<strong>ä¸šåŠ¡é€»è¾‘</strong>ã€<strong>æ•°æ®</strong>ã€<strong>æ˜¾ç¤º</strong>åˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚</li>
<li>MVCä¸»è¦ä½œç”¨æ˜¯<strong>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ</strong>ã€‚</li>
<li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼</strong>ã€‚ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li>
</ul>
<p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«==æ•°æ®å’Œè¡Œä¸º==ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®==<strong>Dao</strong>==ï¼‰å’ŒæœåŠ¡å±‚ï¼ˆè¡Œä¸º==<strong>Service</strong>==ï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬==<strong>æ•°æ®å’Œä¸šåŠ¡</strong>==ã€‚</p>
<p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p>
<p>==<strong>Controller</strong>==ï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š**æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p>
<p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong></p>
<img src="/images/SpringMVC/image-20201211191701719.png" srcset="/img/loading.gif" alt="image-20201211191701719" style="zoom:80%;" />

<h3 id="1-2-Model1"><a href="#1-2-Model1" class="headerlink" title="1.2 Model1"></a>1.2 Model1</h3><ul>
<li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚</li>
<li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œ==è§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚==</li>
</ul>
<img src="/images/SpringMVC/image-20201211192206489.png" srcset="/img/loading.gif" alt="image-20201211192206489" style="zoom:80%;" />

<p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘ï¼›</p>
<p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›</p>
<h3 id="1-3-Model2"><a href="#1-3-Model2" class="headerlink" title="1.3 Model2"></a>1.3 Model2</h3><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬==<strong>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹ã€‚</strong>==</p>
<p><img src="/images/SpringMVC/image-20201212192537382.png" srcset="/img/loading.gif" alt="image-20201212192537382"></p>
<ol>
<li>ç”¨æˆ·å‘è¯·æ±‚</li>
<li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li>
<li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li>
<li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li>
<li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li>
</ol>
<p><strong>èŒè´£åˆ†æï¼š</strong></p>
<p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p>
<ol>
<li>å–å¾—è¡¨å•æ•°æ®</li>
<li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li>
<li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li>
</ol>
<p><strong>Modelï¼šæ¨¡å‹</strong></p>
<ol>
<li>ä¸šåŠ¡é€»è¾‘</li>
<li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li>
</ol>
<p><strong>Viewï¼šè§†å›¾</strong></p>
<ol>
<li>æ˜¾ç¤ºé¡µé¢</li>
</ol>
<p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼Œ==Model1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·==ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p>
<h3 id="1-4-å›é¡¾Servlet"><a href="#1-4-å›é¡¾Servlet" class="headerlink" title="1.4 å›é¡¾Servlet"></a>1.4 å›é¡¾Servlet</h3><ol>
<li><p><strong>æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹å½“ä½œçˆ¶å·¥ç¨‹ï¼pomä¾èµ–ï¼</strong></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre>
</li>
<li><p><strong>æ–°å»ºä¸€ä¸ªMoudle:SpringMVC-02-servlet,æ·»åŠ WebAPPçš„æ”¯æŒï¼</strong></p>
</li>
<li><p><strong>å¯¼å…¥servletå’Œjspçš„jarä¾èµ–</strong></p>
</li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.11<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre>

<ol start="4">
<li><strong>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</strong></li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.servlet;

<span class="hljs-keyword">import</span> javax.servlet.ServletException;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HelloServlet</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">super</span>();
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;
        <span class="hljs-comment">//å–å¾—å‚æ•°</span>
        String method = req.getParameter(<span class="hljs-string">&quot;method&quot;</span>);
        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;add&quot;</span>))&#123;
            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span>);
        &#125;
        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;delete&quot;</span>))&#123;
            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span>);
        &#125;
        <span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-comment">//è§†å›¾è·³è½¬</span>
        req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/hello.jsp&quot;</span>).forward(req,resp);
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;
        doGet(req,resp);
    &#125;
&#125;
</code></pre>

<ol start="5">
<li><strong>ç¼–å†™hello.jspï¼Œåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºhello.jsp</strong></li>
</ol>
<pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Kuangshen&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;%--è·å–msg--%&gt;
&lt;%=session.getAttribute(<span class="hljs-string">&quot;msg&quot;</span>)%&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol start="6">
<li><strong>åœ¨web.xmlä¸­æ³¨å†ŒServlet</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">web-app</span> <span class="hljs-meta-keyword">PUBLIC</span></span>
<span class="hljs-meta"> <span class="hljs-meta-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span>
<span class="hljs-meta"> <span class="hljs-meta-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>Archetype Created Web Application<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span>
<span class="hljs-comment">&lt;!--åœ¨web.xmlä¸­æ³¨å†Œservlet--&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.wen.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/user<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file</span>&gt;</span>index.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file-list</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre>

<ol start="7">
<li><strong>é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</strong></li>
</ol>
<img src="/images/SpringMVC/image-20201211223600205.png" srcset="/img/loading.gif" alt="image-20201211223600205" style="zoom:50%;" />

<h2 id="2-ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2-ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2. ä»€ä¹ˆæ˜¯SpringMVC"></a>2. ä»€ä¹ˆæ˜¯SpringMVC</h2><h3 id="2-1-æ¦‚è¿°"><a href="#2-1-æ¦‚è¿°" class="headerlink" title="2.1 æ¦‚è¿°"></a>2.1 æ¦‚è¿°</h3><p>SpringMVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/4.3.24.RELEASE/spring-framework-reference/">https://docs.spring.io/spring-framework/docs/4.3.24.RELEASE/spring-framework-reference/</a></p>
<p> Spring MVCçš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li>
<li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶</li>
<li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li>
<li>çº¦å®šä¼˜äºé…ç½®</li>
<li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li>
<li>ç®€æ´çµæ´»</li>
</ul>
<p>Springçš„webæ¡†æ¶å›´ç»•<strong>DispatcherServlet</strong> [è°ƒåº¦Servlet] è®¾è®¡ã€‚</p>
<p>==DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚==ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ï¼›</p>
<p>æ­£å› ä¸ºSpringMVCå¥½ï¼Œç®€å•ï¼Œä¾¿æ·ï¼Œæ˜“å­¦ï¼Œå¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) ï¼Œä½¿ç”¨çº¦å®šä¼˜äºé…ç½®ã€‚èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯•ã€‚æ”¯æŒRestfulé£æ ¼ã€‚å¼‚å¸¸å¤„ç†ï¼Œæœ¬åœ°åŒ–ï¼Œå›½é™…åŒ–ï¼Œæ•°æ®éªŒè¯ï¼Œç±»å‹è½¬æ¢ï¼Œæ‹¦æˆªå™¨ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹ ã€‚<strong>æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯ç”¨çš„äººå¤š , ä½¿ç”¨çš„å…¬å¸å¤š .</strong> </p>
<h3 id="2-2-ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#2-2-ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="2.2 ä¸­å¿ƒæ§åˆ¶å™¨"></a>2.2 ä¸­å¿ƒæ§åˆ¶å™¨</h3><p>Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</p>
<p>Spring MVCæ¡†æ¶åƒå…¶ä»–çš„MVCæ¡†æ¶ä¸€æ ·ï¼Œä»¥è¯·æ±‚ä¸ºé©±åŠ¨ï¼Œå›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†é…è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½ï¼ŒDispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet,å®ƒç»§æ‰¿HttpServletåŸºç±»ã€‚</p>
<p><img src="/images/SpringMVC/image-20201212191843914.png" srcset="/img/loading.gif" alt="image-20201212191843914"></p>
<p><strong>SpringMVCçš„åŸç†ï¼š</strong></p>
<p><img src="/images/SpringMVC/mvc.png" srcset="/img/loading.gif" alt="mvc"></p>
<p><img src="/images/SpringMVC/640" srcset="/img/loading.gif" alt="å›¾ç‰‡"></p>
<p>å‘èµ·è¯·æ±‚ï¼Œå½“è¯·æ±‚è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°æ—¶ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œã€æ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œè°ƒç”¨ä¸šåŠ¡å¯¹è±¡ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œã€‘æ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p>
<h3 id="2-3-SpringMVCæ‰§è¡ŒåŸç†"><a href="#2-3-SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="2.3 SpringMVCæ‰§è¡ŒåŸç†"></a>2.3 SpringMVCæ‰§è¡ŒåŸç†</h3><p><img src="/images/SpringMVC/image-20201212192824766.png" srcset="/img/loading.gif" alt="image-20201212192824766"></p>
<p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚</p>
<p><strong>åˆ†ææµç¨‹ï¼š</strong></p>
<ol>
<li><p>DispatcherServletè¡¨ç¤ºå‰ç«¯æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚</p>
<p>ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥å—è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚</p>
<p>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a target="_blank" rel="noopener" href="http://localhost:8080/SpringMVC/hello">http://localhost:8080/SpringMVC/hello</a></p>
<p>urlåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<p> <a href="http://localhost:8080ï¼šæœåŠ¡å™¨åŸŸå">http://localhost:8080ï¼šæœåŠ¡å™¨åŸŸå</a></p>
<p>SpringMVC: éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹</p>
<p>helloï¼šè¡¨ç¤ºæ§åˆ¶å™¨</p>
<p>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚</p>
</li>
<li><p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè‡ªè¡Œè°ƒç”¨HandlerMappingï¼Œ==HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚==</p>
</li>
<li><p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚</p>
</li>
<li><p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™==DispatcherServlet==,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚</p>
</li>
<li><p>HandlerAdapterè¡¨ç¤º<strong>å¤„ç†å™¨é€‚é…å™¨</strong>ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚</p>
</li>
<li><p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚</p>
</li>
<li><p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚</p>
</li>
<li><p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™==DispatcherServlet==ã€‚</p>
</li>
<li><p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚</p>
</li>
<li><p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™==DispatcherServlet==ã€‚</p>
</li>
<li><p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚</p>
</li>
<li><p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
</li>
</ol>
<h2 id="3-ç¬¬ä¸€ä¸ªMVCç¨‹åº"><a href="#3-ç¬¬ä¸€ä¸ªMVCç¨‹åº" class="headerlink" title="3. ç¬¬ä¸€ä¸ªMVCç¨‹åº"></a>3. ç¬¬ä¸€ä¸ªMVCç¨‹åº</h2><h3 id="3-1-é…ç½®ç‰ˆ"><a href="#3-1-é…ç½®ç‰ˆ" class="headerlink" title="3.1 é…ç½®ç‰ˆ"></a>3.1 é…ç½®ç‰ˆ</h3><p>==æˆ‘ä»¬å…ˆå†™å‡ºæ•´ä¸ªè¿‡ç¨‹ï¼Œä¹‹åå†å¯¹æ•´ä¸ªæ‰§è¡Œæµç¨‹è¿›è¡Œç†è§£ï¼==</p>
<ol>
<li><strong>åˆ›å»ºä¸€ä¸ªmoduleï¼Œå¹¶æ·»åŠ webæ”¯æŒï¼</strong></li>
</ol>
<p><img src="/images/SpringMVC/image-20201213194158352.png" srcset="/img/loading.gif" alt="image-20201213194158352"></p>
<p>ï¼ˆweb Applicationï¼‰</p>
<ol start="2">
<li><strong>é…ç½®web.xml</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
        <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
        <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>

    <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span>
    <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre>

<ol start="3">
<li><strong>ç¡®å®šå¯¼å…¥äº†SpringMVCçš„ä¾èµ–</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>

<ol start="4">
<li><strong>ç¼–å†™springmvc-servlet.xml</strong></li>
</ol>
<p><img src="/images/SpringMVC/image-20201213200613926.png" srcset="/img/loading.gif" alt="image-20201213200613926"></p>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>

<ol start="5">
<li><strong>æ·»åŠ   å¤„ç†æ˜ å°„å™¨</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span></code></pre>

<ol start="6">
<li><strong>æ·»åŠ  å¤„ç†å™¨é€‚é…å™¨</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span></code></pre>

<ol start="7">
<li><strong>æ·»åŠ  è§†å›¾è§£æå™¨</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--åç¼€--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre>

<ol start="8">
<li><strong>ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›</strong></li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller;

<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="hljs-comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        <span class="hljs-comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span>
        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();

        <span class="hljs-comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model</span>
        mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;HelloSpringMVC!&quot;</span>);
        <span class="hljs-comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span>
        mv.setViewName(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//: /WEB-INF/jsp/hello.jsp</span>
        <span class="hljs-keyword">return</span> mv;
    &#125;
&#125;</code></pre>

<ol start="9">
<li><strong>å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</strong></li>
</ol>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Handler--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;/hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wen.controller.HelloController&quot;</span>/&gt;</span></code></pre>

<ol start="10">
<li><strong>å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</strong></li>
</ol>
<pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Wen&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
$&#123;msg&#125;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol start="11">
<li><strong>é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</strong></li>
</ol>
<p><img src="/images/SpringMVC/image-20201213201444811.png" srcset="/img/loading.gif" alt="image-20201213201444811"></p>
<p><img src="/images/SpringMVC/image-20201213201505995.png" srcset="/img/loading.gif" alt="image-20201213201505995"></p>
<p><img src="/images/SpringMVC/image-20201213201521670.png" srcset="/img/loading.gif" alt="image-20201213201521670"></p>
<p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p>
<ol>
<li>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</li>
<li>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼</li>
<li>é‡å¯Tomcat å³å¯è§£å†³ï¼</li>
</ol>
<p>æˆ‘å‡ºç°çš„é—®é¢˜ï¼Œå°±æ˜¯jarå­˜åœ¨ï¼Œå´æ— æ³•ä½¿ç”¨ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p><img src="/images/SpringMVC/image-20201213201614299.png" srcset="/img/loading.gif" alt="image-20201213201614299"></p>
<p><strong>å½“å‰æƒ…å†µå¦‚ä¸‹ï¼š</strong></p>
<p><img src="/images/SpringMVC/image-20201213201641654.png" srcset="/img/loading.gif" alt="image-20201213201641654"></p>
<p><strong>æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªlibæ–‡ä»¶å¤¹ï¼Œå¹¶å°†jaråŠ å…¥å…¶ä¸­ï¼</strong></p>
<p><img src="/images/SpringMVC/image-20201213201721971.png" srcset="/img/loading.gif" alt="image-20201213201721971"></p>
<p><img src="/images/SpringMVC/image-20201213201738915.png" srcset="/img/loading.gif" alt="image-20201213201738915"></p>
<p><img src="/images/SpringMVC/image-20201213201754463.png" srcset="/img/loading.gif" alt="image-20201213201754463"></p>
<p><img src="/images/SpringMVC/image-20201213201805261.png" srcset="/img/loading.gif" alt="image-20201213201805261"></p>
<p><img src="/images/SpringMVC/image-20201213201812124.png" srcset="/img/loading.gif" alt="image-20201213201812124"></p>
<p>ç‚¹å‡»OK ï¼Œç„¶åé‡å¯Tomcatå³å¯ï¼</p>
<p><img src="/images/SpringMVC/image-20201213201917339.png" srcset="/img/loading.gif" alt="image-20201213201917339"></p>
<p>==æœ€åç»“åˆ2.3èŠ‚ï¼Œå¯¹SpringMVCçš„æ‰§è¡ŒåŸç†è¿›è¡Œåˆ†æã€‚==</p>
<p>å¤§è‡´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œ</p>
<p>1ï¼‰DispatcherServletè°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ å°„ï¼Œæ ¹æ®urlæŸ¥æ‰¾Handler,HandlerExecutionæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¹¶å°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServletã€‚</p>
<p><img src="/images/SpringMVC/image-20201213211614091.png" srcset="/img/loading.gif" alt="image-20201213211614091"></p>
<p>è¯´ç™½äº†ï¼Œå°±æ˜¯åœ¨springmvc-servlet.xmlä¸­æŸ¥æ‰¾beançš„è¿‡ç¨‹ã€‚</p>
<p><img src="/images/SpringMVC/image-20201213211243630.png" srcset="/img/loading.gif" alt="image-20201213211243630"></p>
<p>2ï¼‰DispatcherServletè°ƒç”¨HandlerAdapterå¤„ç†å™¨é€‚é…å™¨ï¼ŒæŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚</p>
<p><img src="/images/SpringMVC/image-20201213211632284.png" srcset="/img/loading.gif" alt="image-20201213211632284"></p>
<p>å°±æ‰§è¡Œä¸‹é¢è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><img src="/images/SpringMVC/image-20201213211418250.png" srcset="/img/loading.gif" alt="image-20201213211418250"></p>
<p>3ï¼‰DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ï¼Œæœ€ç»ˆå‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
<p><img src="/images/SpringMVC/image-20201213211527288.png" srcset="/img/loading.gif" alt="image-20201213211527288"></p>
<p>æ ¹æ®è§†å›¾è§£æå™¨å¾—åˆ°/WEB-INF/jsp/hello.jsp,ç„¶åè°ƒç”¨å…·ä½“è§†å›¾ï¼Œå‘ˆç°ï¼Œ</p>
<p><img src="/images/SpringMVC/image-20201213211758946.png" srcset="/img/loading.gif" alt="image-20201213211758946"></p>
<p>å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼Œè‡ªå·±ç†è§£å“ˆï¼ˆç”»çš„æœ‰ç‚¹ä¸‘ã€‚ã€‚ï¼‰</p>
<p><img src="/images/SpringMVC/image-20201213212618629.png" srcset="/img/loading.gif" alt="image-20201213212618629"></p>
<p>è§£é‡Šä¸€ä¸ªç‚¹ï¼š</p>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span>
<span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span></code></pre>



<h3 id="3-2-æ³¨è§£ç‰ˆ"><a href="#3-2-æ³¨è§£ç‰ˆ" class="headerlink" title="3.2 æ³¨è§£ç‰ˆ"></a>3.2 æ³¨è§£ç‰ˆ</h3><ol>
<li><strong>æ–°å»ºä¸€ä¸ªModuleï¼Œspringmvc-03-hello-annotationã€‚æ·»åŠ webæ”¯æŒã€‚</strong></li>
</ol>
<img src="/images/SpringMVC/image-20201213220622511.png" srcset="/img/loading.gif" alt="image-20201213220622511" style="zoom:50%;" />

<ol start="2">
<li><p><strong>ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„</strong></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></code></pre>



</li>
</ol>
<ol start="3">
<li><p><strong>åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚</strong></p>
</li>
<li><p><strong>é…ç½®web.xml</strong></p>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
        <span class="hljs-comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre>

<p><strong>/ å’Œ /* çš„åŒºåˆ«ï¼š</strong></p>
<p>&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚</p>
<p>&lt; url-pattern &gt; /* &lt;/ url-pattern &gt; ä¼šåŒ¹é… *.jspï¼Œä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™ã€‚</p>
<ul>
<li>æ³¨æ„web.xmlç‰ˆæœ¬é—®é¢˜ï¼Œè¦æœ€æ–°ç‰ˆï¼</li>
<li>æ³¨å†ŒDispatcherServlet</li>
<li>å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶</li>
<li>å¯åŠ¨çº§åˆ«ä¸º1</li>
<li>æ˜ å°„è·¯å¾„ä¸º / ã€ä¸è¦ç”¨/*ï¼Œä¼š404ã€‘</li>
</ul>
</li>
<li><p><strong>æ·»åŠ Spring MVCé…ç½®æ–‡ä»¶  springmvc-servlet.xml</strong>  </p>
<p>åœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/context</span></span>
<span class="hljs-tag"><span class="hljs-string">       https://www.springframework.org/schema/context/spring-context.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/mvc</span></span>
<span class="hljs-tag"><span class="hljs-string">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wen.controller&quot;</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span>
    <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">    æ”¯æŒmvcæ³¨è§£é©±åŠ¨</span>
<span class="hljs-comment">        åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»</span>
<span class="hljs-comment">        è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ</span>
<span class="hljs-comment">        å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping</span>
<span class="hljs-comment">        å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹</span>
<span class="hljs-comment">        è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚</span>
<span class="hljs-comment">        è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚</span>
<span class="hljs-comment">     --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span>
<span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span>
        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>

<p>åœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®ã€‚</p>
<ul>
<li>è®©IOCçš„æ³¨è§£ç”Ÿæ•ˆ</li>
<li>é™æ€èµ„æºè¿‡æ»¤ ï¼šHTML . JS . CSS . å›¾ç‰‡ ï¼Œ è§†é¢‘ â€¦..</li>
<li>MVCçš„æ³¨è§£é©±åŠ¨</li>
<li>é…ç½®è§†å›¾è§£æå™¨</li>
</ul>
</li>
<li><p><strong>åˆ›å»ºController</strong></p>
<p>ç¼–å†™HelloControllerã€‚</p>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.Model;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;
    <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span>
    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span></span>&#123;
        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,SpringMVC&quot;</span>);
        <span class="hljs-comment">//web-inf/jsp/hello.jsp</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
    &#125;
&#125;</code></pre>

<ul>
<li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›</li>
<li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯**/HelloController/hello**ï¼›</li>
<li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›</li>
<li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/<strong>hello</strong>.jspã€‚</li>
</ul>
</li>
<li><p><strong>åˆ›å»ºè§†å›¾å±‚</strong></p>
<p>åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ï¼›</p>
<p>å¯ä»¥é€šè¿‡ELè¡¨ç¤ºå–å‡ºModelä¸­å­˜æ”¾çš„å€¼ï¼Œæˆ–è€…å¯¹è±¡ï¼›</p>
<pre><code class="hljs xml">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Wen<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
$&#123;msg&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
</li>
<li><p><strong>é…ç½®Tomcatè¿è¡Œ</strong></p>
<p>é…ç½®Tomcat ï¼Œ  å¼€å¯æœåŠ¡å™¨ ï¼Œ è®¿é—® å¯¹åº”çš„è¯·æ±‚è·¯å¾„ï¼</p>
<p><img src="/images/SpringMVC/image-20201213223349420.png" srcset="/img/loading.gif" alt="image-20201213223349420"></p>
<p><img src="/images/SpringMVC/image-20201213223426273.png" srcset="/img/loading.gif" alt="image-20201213223426273"></p>
<p><img src="/images/SpringMVC/image-20201213223319634.png" srcset="/img/loading.gif" alt="image-20201213223319634"></p>
</li>
</ol>
<p><strong>OK,æˆåŠŸäº†ï¼</strong></p>
<h3 id="3-3-å°ç»“"><a href="#3-3-å°ç»“" class="headerlink" title="3.3 å°ç»“"></a>3.3 å°ç»“</h3><p>å®ç°æ­¥éª¤å…¶å®éå¸¸çš„ç®€å•ï¼š</p>
<ol>
<li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®</li>
<li>å¯¼å…¥ç›¸å…³jaråŒ…</li>
<li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet</li>
<li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶</li>
<li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller</li>
<li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”</li>
<li>æµ‹è¯•è¿è¡Œè°ƒè¯•.</li>
</ol>
<p>==ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š==</p>
<p>==<strong>å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨</strong>==</p>
<p>==é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨</strong>ï¼Œè€Œ<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>å’Œ<strong>å¤„ç†å™¨é€‚é…å™¨</strong>åªéœ€è¦å¼€å¯<strong>æ³¨è§£é©±åŠ¨</strong>å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®==</p>
<h2 id="4-RestFulå’Œæ§åˆ¶å™¨"><a href="#4-RestFulå’Œæ§åˆ¶å™¨" class="headerlink" title="4. RestFulå’Œæ§åˆ¶å™¨"></a>4. RestFulå’Œæ§åˆ¶å™¨</h2><h3 id="4-1-Controlleræ§åˆ¶å™¨"><a href="#4-1-Controlleræ§åˆ¶å™¨" class="headerlink" title="4.1 Controlleræ§åˆ¶å™¨"></a>4.1 Controlleræ§åˆ¶å™¨</h3><ul>
<li>æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡<strong>æ¥å£å®šä¹‰</strong>æˆ–æ³¨<strong>è§£å®šä¹‰</strong>ä¸¤ç§æ–¹æ³•å®ç°ã€‚</li>
<li><strong>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚</strong></li>
<li>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•</li>
<li>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</li>
</ul>
<h4 id="4-1-1-å®ç°Controlleræ¥å£"><a href="#4-1-1-å®ç°Controlleræ¥å£" class="headerlink" title="4.1.1 å®ç°Controlleræ¥å£"></a>4.1.1 <strong>å®ç°Controlleræ¥å£</strong></h4><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼›</p>
<pre><code class="hljs java"><span class="hljs-comment">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Controller</span> </span>&#123;
   <span class="hljs-comment">//å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹(æ•°æ®)ä¸è§†å›¾å¯¹è±¡</span>
   <span class="hljs-function">ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest var1,HttpServletResponse var2)</span> <span class="hljs-keyword">throws</span> Exception</span>;
&#125;</code></pre>

<p><strong>æµ‹è¯•ï¼š</strong></p>
<ol>
<li>ç¼–å†™ä¸€ä¸ªTestControllerç±»</li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;



<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller;

<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;

        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>
        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
        mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;Test1Controller&quot;</span>);
        mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);
        <span class="hljs-keyword">return</span> mv;
    &#125;
&#125;</code></pre>

<ol start="2">
<li>å»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»</li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;/test&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wen.controller.TestController&quot;</span>/&gt;</span></code></pre>

<ol start="3">
<li>ç¼–å†™test.jsp</li>
</ol>
<pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
$&#123;msg&#125;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol start="4">
<li>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª/ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®åï¼ŒOKï¼</li>
</ol>
<p><img src="/images/SpringMVC/image-20201214143353792.png" srcset="/img/loading.gif" alt="image-20201214143353792"></p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</li>
<li><strong>ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›</strong>ğŸ™ƒ</li>
</ul>
<h4 id="4-1-2æ³¨è§£-Controller"><a href="#4-1-2æ³¨è§£-Controller" class="headerlink" title="4.1.2æ³¨è§£@Controller"></a>4.1.2æ³¨è§£@Controller</h4><ul>
<li>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›</li>
<li>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wen.controller&quot;</span>/&gt;</span></code></pre>

<ul>
<li>ä½¿ç”¨æ³¨è§£å®ç°çš„ç±»HelloControllerï¼Œå¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.Model;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;
    <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span>
    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span></span>&#123;
        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,,,,SpringMVC&quot;</span>);
        <span class="hljs-comment">//WEB-INF/jsp/hello.jsp</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
    &#125;
&#125;</code></pre>

<ul>
<li>é…ç½®Tomcatè¿è¡Œæµ‹è¯•</li>
</ul>
<p><img src="/images/SpringMVC/image-20201214143856104.png" srcset="/img/loading.gif" alt="image-20201214143856104"></p>
<p><strong>æ³¨è§£æ–¹å¼æ˜¯å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„æ–¹å¼ï¼</strong></p>
<h3 id="4-2-RequestMapping"><a href="#4-2-RequestMapping" class="headerlink" title="4.2 RequestMapping"></a>4.2 RequestMapping</h3><p><strong>@RequestMapping</strong></p>
<p>@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p>
<p><strong>æµ‹è¯•ï¼š</strong></p>
<ol>
<li>æ§åˆ¶å™¨ç±»</li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.Model;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;
    <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span>
    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span></span>&#123;
        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,,,,SpringMVC&quot;</span>);
        <span class="hljs-comment">//WEB-INF/jsp/hello.jsp</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
    &#125;
&#125;</code></pre>

<ol start="2">
<li>é…ç½®Tomcatï¼Œæµ‹è¯•è¿è¡Œï¼</li>
</ol>
<p><img src="/images/SpringMVC/image-20201214144738354.png" srcset="/img/loading.gif" alt="image-20201214144738354"></p>
<h3 id="4-3-RestFul-é£æ ¼"><a href="#4-3-RestFul-é£æ ¼" class="headerlink" title="4.3 RestFul é£æ ¼"></a>4.3 RestFul é£æ ¼</h3><p><strong>æ¦‚å¿µï¼š</strong></p>
<p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚</p>
<p><strong>åŠŸèƒ½</strong></p>
<ul>
<li><p>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº</p>
</li>
<li><p>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚</p>
</li>
<li><p>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚</p>
</li>
</ul>
<p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</strong>  ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/queryItem.action?id=1">http://127.0.0.1/item/queryItem.action?id=1</a> æŸ¥è¯¢,GET</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/saveItem.action">http://127.0.0.1/item/saveItem.action</a> æ–°å¢,POST</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/updateItem.action">http://127.0.0.1/item/updateItem.action</a> æ›´æ–°,POST</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/deleteItem.action?id=1">http://127.0.0.1/item/deleteItem.action?id=1</a> åˆ é™¤,GETæˆ–POST</p>
<p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼šå¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> æŸ¥è¯¢,GET</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ–°å¢,POST</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ›´æ–°,PUT</p>
<p>â€‹    <a target="_blank" rel="noopener" href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> åˆ é™¤,DELETE</p>
<p><strong>æµ‹è¯•ï¼š</strong></p>
<ol>
<li>æ–°å»ºä¸€ä¸ªç±» RestFulController</li>
</ol>
<p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Šã€‚</p>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.Model;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>&#123;
    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>
    <span class="hljs-meta">@RequestMapping(&quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p2, Model model)</span></span>&#123;

        <span class="hljs-keyword">int</span> result = p1+p2;
        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);
        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;

    &#125;
&#125;</code></pre>

<ol start="2">
<li>é…ç½®Tomcatï¼Œæµ‹è¯•è¿è¡Œï¼</li>
</ol>
<p><img src="/images/SpringMVC/image-20201214145652051.png" srcset="/img/loading.gif" alt="image-20201214145652051"></p>
<p><strong>ä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p>
<ul>
<li>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›</li>
<li>è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚</li>
<li>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚</li>
</ul>
<p><img src="/images/SpringMVC/image-20201214145813382.png" srcset="/img/loading.gif" alt="image-20201214145813382"></p>
<p><strong>ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</strong></p>
<p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰</p>
<p><strong>æµ‹è¯•ï¼š</strong></p>
<pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>&#123;
    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>
    <span class="hljs-meta">@RequestMapping(value = &quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;, method = &#123;RequestMethod.POST&#125;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p2, Model model)</span></span>&#123;

        <span class="hljs-keyword">int</span> result = p1+p2;
        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);
        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;

    &#125;
&#125;</code></pre>

<p>æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405ï¼š</p>
<p><img src="/images/SpringMVC/image-20201214150344806.png" srcset="/img/loading.gif" alt="image-20201214150344806"></p>
<p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†ï¼›</p>
<pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>&#123;
    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>
    <span class="hljs-meta">@RequestMapping(value = &quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;, method = &#123;RequestMethod.GET&#125;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p2, Model model)</span></span>&#123;

        <span class="hljs-keyword">int</span> result = p1+p2;
        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);
        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;

    &#125;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214150437305.png" srcset="/img/loading.gif" alt="image-20201214150437305"></p>
<p><strong>å°ç»“ï¼š</strong></p>
<p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚</p>
<p>==<strong>æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„ã€‚</strong>==</p>
<p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£</p>
<pre><code class="hljs java"><span class="hljs-meta">@GetMapping</span>
<span class="hljs-meta">@PostMapping</span>
<span class="hljs-meta">@PutMapping</span>
<span class="hljs-meta">@DeleteMapping</span>
<span class="hljs-meta">@PatchMapping</span></code></pre>

<p><strong>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤šï¼</strong></p>
<p><strong>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚</strong></p>
<h2 id="5-æ•°æ®å¤„ç†åŠè·³è½¬"><a href="#5-æ•°æ®å¤„ç†åŠè·³è½¬" class="headerlink" title="5 æ•°æ®å¤„ç†åŠè·³è½¬"></a>5 æ•°æ®å¤„ç†åŠè·³è½¬</h2><h3 id="5-1-ç»“æœè·³è½¬æ–¹å¼"><a href="#5-1-ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="5.1 ç»“æœè·³è½¬æ–¹å¼"></a>5.1 ç»“æœè·³è½¬æ–¹å¼</h3><h4 id="5-1-1-ModelAndView"><a href="#5-1-1-ModelAndView" class="headerlink" title="5.1.1 ModelAndView"></a>5.1.1 <strong>ModelAndView</strong></h4><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢ã€‚</p>
<p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span>
<span class="hljs-tag">      <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre>

<p>å¯¹åº”çš„controllerç±»:</p>
<pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;

   <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
       <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>
       ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
       mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);
       mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);
       <span class="hljs-keyword">return</span> mv;
  &#125;
&#125;</code></pre>

<h4 id="5-1-2-ServletAPI"><a href="#5-1-2-ServletAPI" class="headerlink" title="5.1.2 ServletAPI"></a>5.1.2 ServletAPI</h4><p>é€šè¿‡è®¾ç½®ServletAPI , ä¸éœ€è¦è§†å›¾è§£æå™¨ã€‚</p>
<ol>
<li><p>é€šè¿‡HttpServletResponseè¿›è¡Œ<strong>è¾“å‡º</strong></p>
</li>
<li><p>é€šè¿‡HttpServletResponseå®ç°<strong>é‡å®šå‘</strong></p>
</li>
<li><p>é€šè¿‡HttpServletResponseå®ç°<strong>è½¬å‘</strong></p>
</li>
<li><p>è¾“å‡º</p>
</li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;
    <span class="hljs-meta">@RequestMapping(&quot;/result/t1&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;
        rsp.getWriter().println(<span class="hljs-string">&quot;Hello,Spring BY servlet API&quot;</span>);
    &#125;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214161746013.png" srcset="/img/loading.gif" alt="image-20201214161746013"></p>
<ol start="2">
<li>é‡å®šå‘</li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/result/t2&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;
    rsp.sendRedirect(<span class="hljs-string">&quot;/index.jsp&quot;</span>);
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214162027838.png" srcset="/img/loading.gif" alt="image-20201214162027838"></p>
<ol start="3">
<li>è½¬å‘</li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/result/t3&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
    <span class="hljs-comment">//è½¬å‘</span>
    req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;/result/t3&quot;</span>);
    req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/hello.jsp&quot;</span>).forward(req,rsp);
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214162214516.png" srcset="/img/loading.gif" alt="image-20201214162214516"></p>
<h4 id="5-1-3-SpringMVC"><a href="#5-1-3-SpringMVC" class="headerlink" title="5.1.3 SpringMVC"></a>5.1.3 SpringMVC</h4><ol>
<li><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æ— éœ€è§†å›¾è§£æå™¨</strong></li>
</ol>
<p><strong>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</strong></p>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/rsm/t1&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//è½¬å‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/index.jsp&quot;</span>;
&#125;

<span class="hljs-meta">@RequestMapping(&quot;/rsm/t2&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//è½¬å‘äºŒ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;forward:/index.jsp&quot;</span>;
&#125;

<span class="hljs-meta">@RequestMapping(&quot;/rsm/t3&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test3</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//é‡å®šå‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214162623299.png" srcset="/img/loading.gif" alt="image-20201214162623299"></p>
<p><img src="/images/SpringMVC/image-20201214162633361.png" srcset="/img/loading.gif" alt="image-20201214162633361"></p>
<p><img src="/images/SpringMVC/image-20201214162644498.png" srcset="/img/loading.gif" alt="image-20201214162644498"></p>
<ol start="2">
<li><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨</strong></li>
</ol>
<p>è½¬å‘ï¼š</p>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/rsm2/t1&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//è½¬å‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214163212064.png" srcset="/img/loading.gif" alt="image-20201214163212064"></p>
<p>é‡å®šå‘ï¼š</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡å®šå‘ä¸éœ€è¦è§†å›¾è§£æå™¨ï¼Œæœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹ï¼Œæ‰€ä»¥éœ€è¦æ³¨æ„è·¯å¾„é—®é¢˜ï¼</strong></p>
<p>æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/rsm2/t2&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//é‡å®šå‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;
    <span class="hljs-comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span>
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214163340393.png" srcset="/img/loading.gif" alt="image-20201214163340393"></p>
<p>å¦‚æœè·¯å¾„å†™é”™ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š</p>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/rsm2/t2&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-comment">//é‡å®šå‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index&quot;</span>;
    <span class="hljs-comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span>
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214163419832.png" srcset="/img/loading.gif" alt="image-20201214163419832"></p>
<p>ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°è¯¥è·¯å¾„ã€‚</p>
<h3 id="5-2-æ•°æ®å¤„ç†"><a href="#5-2-æ•°æ®å¤„ç†" class="headerlink" title="5.2 æ•°æ®å¤„ç†"></a>5.2 æ•°æ®å¤„ç†</h3><h4 id="5-2-1-å¤„ç†æäº¤æ•°æ®"><a href="#5-2-1-å¤„ç†æäº¤æ•°æ®" class="headerlink" title="5.2.1 å¤„ç†æäº¤æ•°æ®"></a>5.2.1 å¤„ç†æäº¤æ•°æ®</h4><ol>
<li><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong></li>
</ol>
<p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/hello?name=kuangshen">http://localhost:8080/hello?name=kuangshen</a></p>
<p>å¤„ç†æ–¹æ³• :</p>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(String name)</span></span>&#123;
   System.out.println(name);
   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p>åå°è¾“å‡º : kuangshen</p>
<ol start="2">
<li><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></li>
</ol>
<p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/hello?username=kuangshen">http://localhost:8080/hello?username=kuangshen</a></p>
<p>å¤„ç†æ–¹æ³• :</p>
<pre><code class="hljs java"><span class="hljs-comment">//@RequestParam(&quot;username&quot;) : usernameæäº¤çš„åŸŸçš„åç§° .</span>
<span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name)</span></span>&#123;
   System.out.println(name);
   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p>åå°è¾“å‡º : kuangshen</p>
<ol start="3">
<li><strong>æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</strong></li>
</ol>
<p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´,å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯.</p>
<ol>
<li>å®ä½“ç±»</li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;
   <span class="hljs-keyword">private</span> String name;
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;
   <span class="hljs-comment">//æ„é€ </span>
   <span class="hljs-comment">//get/set</span>
   <span class="hljs-comment">//tostring()</span>
&#125;</code></pre>

<ol start="2">
<li><p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15">http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15</a></p>
</li>
<li><p>å¤„ç†æ–¹æ³• :</p>
</li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">user</span><span class="hljs-params">(User user)</span></span>&#123;
   System.out.println(user);
   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p>åå°è¾“å‡º : User{id=1, name=â€™kuangshenâ€™, age=15}</p>
<p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œ<strong>å‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡çš„å±æ€§åå¿…é¡»ä¸€è‡´</strong>ï¼Œå¦åˆ™å°±æ˜¯nullã€‚</p>
<h4 id="5-2-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#5-2-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="5.2.2 æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>5.2.2 æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h4><ol>
<li><strong>é€šè¿‡ModelAndView</strong></li>
</ol>
<p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š</p>
<pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;

   <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
       <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>
       ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
       mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);
       mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);
       <span class="hljs-keyword">return</span> mv;
  &#125;
&#125;</code></pre>

<ol start="2">
<li><strong>é€šè¿‡ModelMap</strong></li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/modelMap&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello2</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;name&quot;)</span> String name, ModelMap model)</span></span>&#123;
    <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span>
    <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span>
    model.addAttribute(<span class="hljs-string">&quot;name&quot;</span>,name);
    System.out.println(name);
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214164550465.png" srcset="/img/loading.gif" alt="image-20201214164550465"></p>
<ol start="3">
<li><strong>é€šè¿‡Model</strong></li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span></span>&#123;
    <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span>
    model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,,,,SpringMVC&quot;</span>);
    <span class="hljs-comment">//WEB-INF/jsp/hello.jsp</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201214164731139.png" srcset="/img/loading.gif" alt="image-20201214164731139"></p>
<p><strong>ä¸‰ç§æ–¹å¼çš„å¯¹æ¯”ï¼š</strong></p>
<p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š</p>
<ul>
<li><p>Model åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›</p>
</li>
<li><p>ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›</p>
</li>
<li><p>ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚</p>
</li>
</ul>
<h4 id="5-2-3-ä¹±ç é—®é¢˜"><a href="#5-2-3-ä¹±ç é—®é¢˜" class="headerlink" title="5.2.3 ä¹±ç é—®é¢˜"></a>5.2.3 ä¹±ç é—®é¢˜</h4><p>æµ‹è¯•åœºæ™¯ï¼š</p>
<ol>
<li>index.jsp</li>
</ol>
<pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;$Title$&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form action=<span class="hljs-string">&quot;/HelloController/e/t&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;
      &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;name&quot;</span>&gt;
      &lt;input type=<span class="hljs-string">&quot;submit&quot;</span>&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<ol start="2">
<li>Controller</li>
</ol>
<pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;
    <span class="hljs-meta">@RequestMapping(&quot;/index&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">()</span></span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;index&quot;</span>;
    &#125;
    <span class="hljs-meta">@RequestMapping(&quot;/e/t&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello2</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;name&quot;)</span> String name, ModelMap model)</span></span>&#123;
        <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span>
        <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span>
        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);
        System.out.println(name);
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;
    &#125;
&#125;</code></pre>

<ol start="3">
<li>hello.jsp</li>
</ol>
<pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Wen&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
$&#123;msg&#125;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol start="4">
<li>é…ç½®Tomcatï¼Œè¿è¡Œæµ‹è¯•</li>
</ol>
<p><img src="/images/SpringMVC/image-20201214171936519.png" srcset="/img/loading.gif" alt="image-20201214171936519"></p>
<p>å‡ºç°ä¹±ç é—®é¢˜ï¼</p>
<p>ä¸å¾—ä¸è¯´ï¼Œä¹±ç é—®é¢˜æ˜¯åœ¨æˆ‘ä»¬å¼€å‘ä¸­ååˆ†å¸¸è§çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯è®©æˆ‘ä»¬ç¨‹åºçŒ¿æ¯”è¾ƒå¤´å¤§çš„é—®é¢˜ï¼</p>
<p>ä»¥å‰ä¹±ç é—®é¢˜é€šè¿‡è¿‡æ»¤å™¨è§£å†³ï¼Œè€ŒSpringMVCç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥åœ¨web.xmlä¸­é…ç½®ã€‚</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span></code></pre>

<p>ä¿®æ”¹äº†xmlæ–‡ä»¶éœ€è¦é‡å¯æœåŠ¡å™¨ï¼</p>
<p><img src="/images/SpringMVC/image-20201214172202869.png" srcset="/img/loading.gif" alt="image-20201214172202869"></p>
<p>OKï¼Œæ­£å¸¸æ˜¾ç¤ºäº†ï¼</p>
<p>ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œæœ‰äº›æç«¯æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¿‡æ»¤å™¨å¯¹getçš„æ”¯æŒä¸å¥½ã€‚</p>
<p><strong>å¤„ç†æ–¹æ³•ï¼š</strong></p>
<ol>
<li>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ ï¼šè®¾ç½®ç¼–ç ï¼</li>
</ol>
<p>-Dfile.encoding=UTF-8</p>
<p><img src="/images/SpringMVC/image-20201214173105422.png" srcset="/img/loading.gif" alt="image-20201214173105422"></p>
<p>å¦‚æœåªæ˜¯è®¾ç½®Tomcatç¼–ç ï¼Œé¡µé¢è·³è½¬æ—¶ï¼Œè¿˜æ˜¯ä¼šå‡ºç°ä¹±ç ã€‚<strong>æœ€å¥½å®šä¹‰ä¸‹é¢çš„è‡ªå®šä¹‰è¿‡æ»¤å™¨ã€‚</strong></p>
<ol start="2">
<li>è‡ªå®šä¹‰è¿‡æ»¤å™¨</li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.utils;

<span class="hljs-keyword">import</span> javax.servlet.*;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.UnsupportedEncodingException;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * è§£å†³getå’Œpostè¯·æ±‚ å…¨éƒ¨ä¹±ç çš„è¿‡æ»¤å™¨</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenericEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>&#123;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>&#123;
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>&#123;
        <span class="hljs-comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span>
        HttpServletResponse myResponse=(HttpServletResponse) response;
        myResponse.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);

        <span class="hljs-comment">// è½¬å‹ä¸ºä¸åè®®ç›¸å…³å¯¹è±¡</span>
        HttpServletRequest httpServletRequest = (HttpServletRequest) request;
        <span class="hljs-comment">// å¯¹requeståŒ…è£…å¢å¼º</span>
        HttpServletRequest myrequest = <span class="hljs-keyword">new</span> MyRequest(httpServletRequest);
        chain.doFilter(myrequest, response);
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>&#123;
    &#125;

&#125;

<span class="hljs-comment">//è‡ªå®šä¹‰requestå¯¹è±¡ï¼ŒHttpServletRequestçš„åŒ…è£…ç±»</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServletRequestWrapper</span> </span>&#123;

    <span class="hljs-keyword">private</span> HttpServletRequest request;
    <span class="hljs-comment">//æ˜¯å¦ç¼–ç çš„æ ‡è®°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> hasEncode;
    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¼ å…¥HttpServletRequestå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œè£…é¥°</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyRequest</span><span class="hljs-params">(HttpServletRequest request)</span> </span>&#123;
        <span class="hljs-keyword">super</span>(request);<span class="hljs-comment">// superå¿…é¡»å†™</span>
        <span class="hljs-keyword">this</span>.request = request;
    &#125;

    <span class="hljs-comment">// å¯¹éœ€è¦å¢å¼ºæ–¹æ³• è¿›è¡Œè¦†ç›–</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Map <span class="hljs-title">getParameterMap</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-comment">// å…ˆè·å¾—è¯·æ±‚æ–¹å¼</span>
        String method = request.getMethod();
        <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">&quot;post&quot;</span>)) &#123;
            <span class="hljs-comment">// postè¯·æ±‚</span>
            <span class="hljs-keyword">try</span> &#123;
                <span class="hljs-comment">// å¤„ç†postä¹±ç </span>
                request.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);
                <span class="hljs-keyword">return</span> request.getParameterMap();
            &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) &#123;
                e.printStackTrace();
            &#125;
        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">&quot;get&quot;</span>)) &#123;
            <span class="hljs-comment">// getè¯·æ±‚</span>
            Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();
            <span class="hljs-keyword">if</span> (!hasEncode) &#123; <span class="hljs-comment">// ç¡®ä¿getæ‰‹åŠ¨ç¼–ç é€»è¾‘åªè¿è¡Œä¸€æ¬¡</span>
                <span class="hljs-keyword">for</span> (String parameterName : parameterMap.keySet()) &#123;
                    String[] values = parameterMap.get(parameterName);
                    <span class="hljs-keyword">if</span> (values != <span class="hljs-keyword">null</span>) &#123;
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; values.length; i++) &#123;
                            <span class="hljs-keyword">try</span> &#123;
                                <span class="hljs-comment">// å¤„ç†getä¹±ç </span>
                                values[i] = <span class="hljs-keyword">new</span> String(values[i]
                                        .getBytes(<span class="hljs-string">&quot;ISO-8859-1&quot;</span>), <span class="hljs-string">&quot;utf-8&quot;</span>);
                            &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) &#123;
                                e.printStackTrace();
                            &#125;
                        &#125;
                    &#125;
                &#125;
                hasEncode = <span class="hljs-keyword">true</span>;
            &#125;
            <span class="hljs-keyword">return</span> parameterMap;
        &#125;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.getParameterMap();
    &#125;

    <span class="hljs-comment">//å–ä¸€ä¸ªå€¼</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getParameter</span><span class="hljs-params">(String name)</span> </span>&#123;
        Map&lt;String, String[]&gt; parameterMap = getParameterMap();
        String[] values = parameterMap.get(name);
        <span class="hljs-keyword">if</span> (values == <span class="hljs-keyword">null</span>) &#123;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        &#125;
        <span class="hljs-keyword">return</span> values[<span class="hljs-number">0</span>]; <span class="hljs-comment">// å–å›å‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼</span>
    &#125;

    <span class="hljs-comment">//å–æ‰€æœ‰å€¼</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String[] getParameterValues(String name) &#123;
        Map&lt;String, String[]&gt; parameterMap = getParameterMap();
        String[] values = parameterMap.get(name);
        <span class="hljs-keyword">return</span> values;
    &#125;
&#125;</code></pre>

<p>ä¿®æ”¹web.xmlæ–‡ä»¶ã€‚</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.wen.utils.GenericEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span></code></pre>

<p><img src="/images/SpringMVC/image-20201214173315307.png" srcset="/img/loading.gif" alt="image-20201214173315307"></p>
<p><strong>ä¹±ç é—®é¢˜ï¼Œéœ€è¦å¹³æ—¶å¤šæ³¨æ„ï¼Œåœ¨å°½å¯èƒ½èƒ½è®¾ç½®ç¼–ç çš„åœ°æ–¹ï¼Œéƒ½è®¾ç½®ä¸ºç»Ÿä¸€ç¼–ç  UTF-8ï¼</strong></p>
<h2 id="6-æ•´åˆSSMæ¡†æ¶"><a href="#6-æ•´åˆSSMæ¡†æ¶" class="headerlink" title="6 æ•´åˆSSMæ¡†æ¶"></a>6 æ•´åˆSSMæ¡†æ¶</h2><h3 id="6-1-å¤§è‡´è¿‡ç¨‹"><a href="#6-1-å¤§è‡´è¿‡ç¨‹" class="headerlink" title="6.1 å¤§è‡´è¿‡ç¨‹"></a>6.1 å¤§è‡´è¿‡ç¨‹</h3><p>ä¾èµ–ï¼šjunit æ•°æ®åº“é©±åŠ¨ è¿æ¥æ±  servlet jsp mybatis spring-mybatis spring-webmvc spring-jdbc lombok aop</p>
<ol>
<li><p>å‡†å¤‡å¥½æ•°æ®åº“ç¯å¢ƒ</p>
</li>
<li><p>åŸºæœ¬ç¯å¢ƒçš„æ­å»º:å¯¼åŒ…ã€æ·»åŠ webæ”¯æŒã€æ·»åŠ mavençš„èµ„æºè¿‡æ»¤</p>
</li>
<li><p>åˆ›å»ºé¡¹ç›®çš„åŸºæœ¬ç»“æ„ </p>
<ul>
<li>com.wem.pojo controller service mapper utils</li>
<li>database.propertiesï¼ˆæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼‰</li>
<li>applicationContext.xmlï¼ˆspringçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰</li>
<li>mybatis-config.xmlï¼ˆmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰</li>
<li>spring-mapper.xmlï¼ˆspringæ•´åˆmybatisï¼‰</li>
<li>spring-service.xmlï¼ˆspringæ•´åˆserviceï¼‰</li>
<li>spring-mvc.xmlï¼ˆspringæ•´åˆcontrollerï¼‰</li>
</ul>
</li>
<li><p>mybatiså±‚çš„ç¼–å†™</p>
</li>
</ol>
<ul>
<li>database.properties</li>
<li>IDEAå…³è”æ•°æ®åº“</li>
<li>ç¼–å†™mybatis-config.xml  ä¸€èˆ¬åªå†™pojoåŒ…çš„åˆ«åå’Œæ‰«æåŒ…</li>
<li>ç¼–å†™pojo  ä½¿ç”¨lombok</li>
<li>ç¼–å†™mapperæ¥å£</li>
<li>ç¼–å†™mapper.xml</li>
</ul>
<ol start="5">
<li>serviceå±‚çš„ç¼–å†™</li>
</ol>
<ul>
<li>ç¼–å†™serviceæ¥å£ ä»¥åŠå®ç°ç±»</li>
</ul>
<ol start="6">
<li>springå±‚</li>
</ol>
<ul>
<li><p>æ•´åˆmybatis </p>
<ul>
<li>spring-mapper.xml</li>
</ul>
<ol>
<li>å…³è”æ•°æ®åº“æ–‡ä»¶</li>
<li>æ•°æ®åº“è¿æ¥æ± </li>
<li>é…ç½®SqlSessionFactoryå¯¹è±¡</li>
<li>å®ç°mapperæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ï¼ˆä¹‹å‰æˆ‘ä»¬å†™äº†ä¸€ä¸ªutilsç±»ï¼Œç°åœ¨å¯ä»¥é€šè¿‡é…ç½®åŠ¨æ€å®ç°ï¼‰  com.wen.mapper</li>
</ol>
</li>
<li><p>æ•´åˆservice</p>
<ul>
<li>spring-service.xml</li>
</ul>
<ol>
<li>æ‰«æserviceç›¸å…³çš„bean  com.wen.service æ³¨è§£ä»£æ›¿ï¼š@Service</li>
<li>å®ç°ç±»serviceImplæ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ æ³¨è§£ä»£æ›¿ï¼š@Autowired</li>
<li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨-&gt;æ³¨å…¥æ•°æ®åº“è¿æ¥æ± </li>
</ol>
</li>
</ul>
<ol start="7">
<li>springMVCå±‚</li>
</ol>
<ul>
<li><p>ç¼–å†™web.xml</p>
<ul>
<li>DispatcherServlet</li>
<li>ä¹±ç è¿‡æ»¤</li>
</ul>
</li>
<li><p>spring-mvc.xml</p>
<ul>
<li>å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ @Controller @RequestMapping</li>
<li>é™æ€èµ„æºé»˜è®¤servleté…ç½®</li>
<li>é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨</li>
<li>æ‰«æwebç›¸å…³çš„bean com.wen.controller</li>
</ul>
</li>
<li><p>applicationContext.xml</p>
<p>importä¸‰ä¸ªæ–‡ä»¶:spring-mapper.xml  spring-service.xml  spring-mvc.xml</p>
</li>
</ul>
<ol start="8">
<li><p>Controllerç±»çš„ç¼–å†™</p>
</li>
<li><p>è§†å›¾å±‚çš„ç¼–å†™</p>
</li>
<li><p>é…ç½®Tomcatï¼Œæµ‹è¯•è¿è¡Œ</p>
</li>
</ol>
<h3 id="6-2-æ­å»ºçš„å…·ä½“è¿‡ç¨‹"><a href="#6-2-æ­å»ºçš„å…·ä½“è¿‡ç¨‹" class="headerlink" title="6.2 æ­å»ºçš„å…·ä½“è¿‡ç¨‹"></a>6.2 æ­å»ºçš„å…·ä½“è¿‡ç¨‹</h3><ol>
<li>å‡†å¤‡å¥½æ•°æ®åº“ç¯å¢ƒ</li>
</ol>
<p>åˆ›å»ºè¡¨ï¼š</p>
<pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> <span class="hljs-string">`ssmbuild`</span>;

<span class="hljs-keyword">USE</span> <span class="hljs-string">`ssmbuild`</span>;

<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> <span class="hljs-string">`books`</span>;

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`books`</span> (
<span class="hljs-string">`bookID`</span> <span class="hljs-built_in">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> AUTO_INCREMENT <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">&#x27;ä¹¦id&#x27;</span>,
<span class="hljs-string">`bookName`</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">&#x27;ä¹¦å&#x27;</span>,
<span class="hljs-string">`bookCounts`</span> <span class="hljs-built_in">INT</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">&#x27;æ•°é‡&#x27;</span>,
<span class="hljs-string">`detail`</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">&#x27;æè¿°&#x27;</span>,
<span class="hljs-keyword">KEY</span> <span class="hljs-string">`bookID`</span> (<span class="hljs-string">`bookID`</span>)
) <span class="hljs-keyword">ENGINE</span>=<span class="hljs-keyword">INNODB</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CHARSET</span>=utf8

<span class="hljs-keyword">INSERT</span>  <span class="hljs-keyword">INTO</span> <span class="hljs-string">`books`</span>(<span class="hljs-string">`bookID`</span>,<span class="hljs-string">`bookName`</span>,<span class="hljs-string">`bookCounts`</span>,<span class="hljs-string">`detail`</span>)<span class="hljs-keyword">VALUES</span> 
(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;Java&#x27;</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;ä»å…¥é—¨åˆ°æ”¾å¼ƒ&#x27;</span>),
(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;MySQL&#x27;</span>,<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;ä»åˆ åº“åˆ°è·‘è·¯&#x27;</span>),
(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;Linux&#x27;</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;ä»è¿›é—¨åˆ°è¿›ç‰¢&#x27;</span>);</code></pre>

<ol start="2">
<li>å¯¼å…¥ä¾èµ–ï¼ˆpom.xmlï¼‰</li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!--Junit--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!--æ•°æ®åº“é©±åŠ¨--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.15<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  æ³¨æ„ç‰ˆæœ¬ä¸€å®šè¦åŒ¹é…--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mchange<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.5.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mchange<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mchange-commons-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.2.19<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!--Servlet - JSP --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!--Mybatis--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!--Spring--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.0.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-comment">&lt;!--ä¹‹å‰å¯¼å…¥ä¸è¿›å»ï¼Œæœ‰å¯èƒ½æ˜¯å› ä¸ºç‰ˆæœ¬å¤ªé«˜äº†å§--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre>

<p>æ³¨æ„æœ‰æ—¶ä¼šå‡ºç°åŒ…å·²ç»æ·»åŠ ï¼Œä½†æ˜¯å´æ˜¾ç¤ºä¸å­˜åœ¨ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼šåˆ›å»ºlibæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”å°†æ‰€æœ‰çš„åŒ…å¯¼è¿›å»ï¼</p>
<p><img src="/images/SpringMVC/image-20201215224329627.png" srcset="/img/loading.gif" alt="image-20201215224329627"></p>
<ol start="3">
<li>æ·»åŠ webæ”¯æŒ</li>
</ol>
<p><img src="/images/SpringMVC/image-20201215222031121.png" srcset="/img/loading.gif" alt="image-20201215222031121"></p>
<ol start="3">
<li>æ·»åŠ mavenèµ„æºè¿‡æ»¤(pom.xml)</li>
</ol>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></code></pre>

<ol start="4">
<li>åˆ›å»ºé¡¹ç›®çš„åŸºæœ¬ç»“æ„</li>
</ol>
<p><img src="/images/SpringMVC/image-20201215222303156.png" srcset="/img/loading.gif" alt="image-20201215222303156"></p>
<ol start="5">
<li><p>mybatiså±‚çš„ç¼–å†™</p>
<ul>
<li>database.properties(æœ€å¥½åŠ ä¸Šå‰ç¼€ï¼Œä¸ç„¶name usernameè¿™ç§æœ‰å¯èƒ½æŠ¥é”™)</li>
</ul>
<pre><code class="hljs properties"><span class="hljs-meta">jdbc.driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
<span class="hljs-meta">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssmbuild?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true</span>
<span class="hljs-meta">jdbc.username</span>=<span class="hljs-string">root</span>
<span class="hljs-meta">jdbc.password</span>=<span class="hljs-string">645645aa</span></code></pre>

<ul>
<li>IDEAå…³è”æ•°æ®åº“</li>
</ul>
<p><img src="/images/SpringMVC/image-20201215222441903.png" srcset="/img/loading.gif" alt="image-20201215222441903"></p>
<ul>
<li>ç¼–å†™mybatis-config.xml(mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶)  ä¸€èˆ¬åªå†™pojoåŒ…çš„åˆ«åå’Œæ‰«æåŒ…</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span>
<span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wen.pojo&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wen/mapper/BookMapper.xml&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></code></pre>

<ul>
<li>ç¼–å†™pojo ä½¿ç”¨lombokæ’ä»¶</li>
</ul>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.pojo;

<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.NoArgsConstructor;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Books</span> </span>&#123;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bookID;
    <span class="hljs-keyword">private</span> String bookName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bookCounts;
    <span class="hljs-keyword">private</span> String detail;
&#125;</code></pre>

<ul>
<li>ç¼–å†™mapperæ¥å£</li>
</ul>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.mapper;

<span class="hljs-keyword">import</span> com.wen.pojo.Books;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookMapper</span> </span>&#123;
    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span></span>;

    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;

    <span class="hljs-comment">//æ›´æ–°Book</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span></span>;

    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span>
    <span class="hljs-function">Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;

    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span>
    <span class="hljs-function">List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span></span>;
&#125;</code></pre>

<ul>
<li>ç¼–å†™mapper.xml(å­˜æ”¾åœ¨resourcesä¸­)</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span>
<span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wen.mapper.BookMapper&quot;</span>&gt;</span>

    <span class="hljs-comment">&lt;!--å¢åŠ ä¸€ä¸ªBook--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span>
      insert into books(bookName,bookCounts,detail)
      values (#&#123;bookName&#125;, #&#123;bookCounts&#125;, #&#123;detail&#125;)
   <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteBookById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span>
      delete from books where bookID=#&#123;bookID&#125;
   <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ›´æ–°Book--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span>
      update books
      set bookName = #&#123;bookName&#125;,bookCounts = #&#123;bookCounts&#125;,detail = #&#123;detail&#125;
      where bookID = #&#123;bookID&#125;
   <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span>
      select * from books
      where bookID = #&#123;bookID&#125;
   <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

    <span class="hljs-comment">&lt;!--æŸ¥è¯¢å…¨éƒ¨Book--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryAllBook&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span>
      SELECT * from books
   <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre>

<p><img src="/images/SpringMVC/image-20201215222718071.png" srcset="/img/loading.gif" alt="image-20201215222718071"></p>
</li>
<li><p>serviceå±‚çš„ç¼–å†™</p>
</li>
</ol>
<p>ç¼–å†™serviceæ¥å£ ä»¥åŠå®ç°ç±»</p>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.service;

<span class="hljs-keyword">import</span> com.wen.pojo.Books;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">//BookService:åº•ä¸‹éœ€è¦å»å®ç°,è°ƒç”¨mapperå±‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookService</span> </span>&#123;
    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span></span>;
    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;
    <span class="hljs-comment">//æ›´æ–°Book</span>
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span></span>;
    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span>
    <span class="hljs-function">Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;
    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span>
    <span class="hljs-function">List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span></span>;
&#125;</code></pre>

<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.service;

<span class="hljs-keyword">import</span> com.wen.mapper.BookMapper;
<span class="hljs-keyword">import</span> com.wen.pojo.Books;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BookService</span> </span>&#123;
    <span class="hljs-comment">//è°ƒç”¨mapperå±‚çš„æ“ä½œï¼Œè®¾ç½®ä¸€ä¸ªsetæ¥å£ï¼Œæ–¹ä¾¿Springç®¡ç†</span>
    <span class="hljs-keyword">private</span> BookMapper bookMapper;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setBookMapper</span><span class="hljs-params">(BookMapper bookMapper)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.bookMapper = bookMapper;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span> </span>&#123;
        <span class="hljs-keyword">return</span> bookMapper.addBook(book);
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;
        <span class="hljs-keyword">return</span> bookMapper.deleteBookById(id);
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span> </span>&#123;
        <span class="hljs-keyword">return</span> bookMapper.updateBook(books);
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;
        <span class="hljs-keyword">return</span> bookMapper.queryBookById(id);
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> bookMapper.queryAllBook();
    &#125;
&#125;</code></pre>

<p><img src="/images/SpringMVC/image-20201215222827376.png" srcset="/img/loading.gif" alt="image-20201215222827376"></p>
<ol start="7">
<li><p>springå±‚</p>
<ul>
<li>æ•´åˆmybatis spring-mapper.xml</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/context</span></span>
<span class="hljs-tag"><span class="hljs-string">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span>

    <span class="hljs-comment">&lt;!--1. å…³è”æ•°æ®åº“æ–‡ä»¶--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:database.properties&quot;</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--2. æ•°æ®åº“è¿æ¥æ± --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span>

        <span class="hljs-comment">&lt;!-- c3p0è¿æ¥æ± çš„ç§æœ‰å±æ€§ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;minPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;autoCommitOnClose&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- è·å–è¿æ¥è¶…æ—¶æ—¶é—´ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkoutTimeout&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10000&quot;</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;acquireRetryAttempts&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--3. é…ç½®SqlSessionFactoryå¯¹è±¡--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--4.é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ³¨å…¥sqlSessionFactory è¿™é‡Œæ³¨å…¥ç”¨çš„æ˜¯value ä¸æ˜¯ref--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- ç»™å‡ºéœ€è¦æ‰«æmapperæ¥å£åŒ… --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.wen.mapper&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>

<ul>
<li>æ•´åˆservice   spring-service.xml</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/context</span></span>
<span class="hljs-tag"><span class="hljs-string">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 1. æ‰«æserviceç›¸å…³çš„bean --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wen.service&quot;</span>/&gt;</span>

    <span class="hljs-comment">&lt;!--2. BookServiceImplæ³¨å…¥åˆ°IOCå®¹å™¨ä¸­--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;BookServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wen.service.BookServiceImpl&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;bookMapper&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;bookMapper&quot;</span>/&gt;</span><span class="hljs-comment">&lt;!--æ–‡ä»¶å¿…é¡»åœ¨ä¸€ä¸ªapplicationContextä¸‹--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--3. é…ç½®äº‹åŠ¡ç®¡ç†å™¨-&gt;æ³¨å…¥æ•°æ®åº“è¿æ¥æ± --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
</li>
<li><p>springMVCå±‚</p>
<ul>
<li>web.xml</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span>
<span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!--DispatcherServlet--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
            <span class="hljs-comment">&lt;!--ä¸€å®šè¦æ³¨æ„:æˆ‘ä»¬è¿™é‡ŒåŠ è½½çš„æ˜¯æ€»çš„é…ç½®æ–‡ä»¶ï¼Œä¹‹å‰è¢«è¿™é‡Œå‘äº†ï¼--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>

    <span class="hljs-comment">&lt;!--ä¹±ç --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span>

    <span class="hljs-comment">&lt;!--Sessionè¿‡æœŸæ—¶é—´--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre>

<ul>
<li>spring-mvc.xml</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">   http://www.springframework.org/schema/context</span></span>
<span class="hljs-tag"><span class="hljs-string">   http://www.springframework.org/schema/context/spring-context.xsd</span></span>
<span class="hljs-tag"><span class="hljs-string">   http://www.springframework.org/schema/mvc</span></span>
<span class="hljs-tag"><span class="hljs-string">   https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span>

    <span class="hljs-comment">&lt;!--1. å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ @Controller @RequestMapping--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½®--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--3. é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.JstlView&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--4. æ‰«æwebç›¸å…³çš„bean com.wen.controller--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wen.controller&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>

<ul>
<li>applicationContext.xml</li>
</ul>
<pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring/spring-mapper.xml&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring/spring-service.xml&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring/spring-mvc.xml&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>

<p>==éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œè¿™å‡ ä¸ªæ–‡ä»¶å¿…é¡»åœ¨ä¸€ä¸ªcontextä¸‹ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼Œä¼šå‡ºç°å¼•ç”¨æ‰¾ä¸åˆ°çš„æƒ…å†µï¼==</p>
<p><img src="/images/SpringMVC/image-20201215223355170.png" srcset="/img/loading.gif" alt="image-20201215223355170"></p>
</li>
<li><p>controllerç±»çš„ç¼–å†™</p>
</li>
</ol>
<pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wen.controller;

<span class="hljs-keyword">import</span> com.wen.pojo.Books;
<span class="hljs-keyword">import</span> com.wen.service.BookService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.Model;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>
    <span class="hljs-keyword">private</span> BookService bookService;

    <span class="hljs-meta">@RequestMapping(&quot;/allBook&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">list</span><span class="hljs-params">(Model model)</span> </span>&#123;
        List&lt;Books&gt; list = bookService.queryAllBook();
        <span class="hljs-keyword">for</span> (Books books : list) &#123;
            System.out.println(books.getBookName());
        &#125;
        model.addAttribute(<span class="hljs-string">&quot;list&quot;</span>, list);
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allBook&quot;</span>;
    &#125;

    <span class="hljs-meta">@RequestMapping(&quot;/toAddBook&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toAddPaper</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;addBook&quot;</span>;
    &#125;

    <span class="hljs-meta">@RequestMapping(&quot;/addBook&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addPaper</span><span class="hljs-params">(Books books)</span> </span>&#123;
        System.out.println(books);
        bookService.addBook(books);
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;
    &#125;

    <span class="hljs-meta">@RequestMapping(&quot;/toUpdateBook&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toUpdateBook</span><span class="hljs-params">(Model model, <span class="hljs-keyword">int</span> id)</span> </span>&#123;
        Books books = bookService.queryBookById(id);
        System.out.println(books);
        model.addAttribute(<span class="hljs-string">&quot;book&quot;</span>,books );
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;updateBook&quot;</span>;
    &#125;

    <span class="hljs-meta">@RequestMapping(&quot;/updateBook&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">updateBook</span><span class="hljs-params">(Model model, Books book)</span> </span>&#123;
        System.out.println(book);
        bookService.updateBook(book);
        Books books = bookService.queryBookById(book.getBookID());
        model.addAttribute(<span class="hljs-string">&quot;books&quot;</span>, books);
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;
    &#125;
    <span class="hljs-meta">@RequestMapping(&quot;/del/&#123;bookId&#125;&quot;)</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">deleteBook</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;bookId&quot;)</span> <span class="hljs-keyword">int</span> id)</span> </span>&#123;
        bookService.deleteBookById(id);
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;
    &#125;
&#125;</code></pre>

<ol start="10">
<li>è§†å›¾å±‚</li>
</ol>
<p>addBook.jsp</p>
<pre><code class="hljs jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: <span class="hljs-number">20964</span>
  Date: <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">15</span>
  Time: <span class="hljs-number">9</span>:<span class="hljs-number">41</span>
  To change <span class="hljs-keyword">this</span> template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;æ–°å¢ä¹¦ç±&lt;/title&gt;
    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;
    &lt;!-- å¼•å…¥ Bootstrap --&gt;
    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;

    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;
        &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;
            &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;
                &lt;h1&gt;
                    &lt;small&gt;æ–°å¢ä¹¦ç±&lt;/small&gt;
                &lt;/h1&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/addBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;
        ä¹¦ç±åç§°ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
        ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
        ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
        &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æ·»åŠ &quot;</span>&gt;
    &lt;/form&gt;

&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>allBook.jsp</p>
<p>&lt;%@ taglib prefix=â€câ€ uri=â€<a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core&quot;</a> %&gt;==è¿™ä¸ªå¿…é¡»åŠ ä¸Šï¼Œä¸ç„¶ä¸ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„ä¹¦ç±ï¼Œä¸èƒ½å¾ªç¯æ˜¾ç¤ºã€‚==</p>
<pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;
&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ä¹¦ç±åˆ—è¡¨&lt;/title&gt;
    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;
    &lt;!-- å¼•å…¥ Bootstrap --&gt;
    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;

    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;
        &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;
            &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;
                &lt;h1&gt;
                    &lt;small&gt;ä¹¦ç±åˆ—è¡¨ â€”â€” æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç±&lt;/small&gt;
                &lt;/h1&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row&quot;</span>&gt;
        &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-4 column&quot;</span>&gt;
            &lt;a class=&quot;btn btn-primary&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/book/toAddBook&quot;&gt;æ–°å¢&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;
        &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;
            &lt;table <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;table table-hover table-striped&quot;</span>&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ä¹¦ç±ç¼–å·&lt;/th&gt;
                    &lt;th&gt;ä¹¦ç±åå­—&lt;/th&gt;
                    &lt;th&gt;ä¹¦ç±æ•°é‡&lt;/th&gt;
                    &lt;th&gt;ä¹¦ç±è¯¦æƒ…&lt;/th&gt;
                    &lt;th&gt;æ“ä½œ&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;

                &lt;tbody&gt;
                &lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span> items=<span class="hljs-string">&quot;$&#123;requestScope.get(&#x27;list&#x27;)&#125;&quot;</span>&gt;
                    &lt;tr&gt;
                        &lt;td&gt;$&#123;book.getBookID()&#125;&lt;/td&gt;
                        &lt;td&gt;$&#123;book.getBookName()&#125;&lt;/td&gt;
                        &lt;td&gt;$&#123;book.getBookCounts()&#125;&lt;/td&gt;
                        &lt;td&gt;$&#123;book.getDetail()&#125;&lt;/td&gt;
                        &lt;td&gt;
                            &lt;a href=&quot;$&#123;pageContext.request.contextPath&#125;/book/toUpdateBook?id=$&#123;book.getBookID()&#125;&quot;&gt;æ›´æ”¹&lt;/a&gt; |
                            &lt;a href=&quot;$&#123;pageContext.request.contextPath&#125;/book/del/$&#123;book.getBookID()&#125;&quot;&gt;åˆ é™¤&lt;/a&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/c:forEach&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    $&#123;list.get(<span class="hljs-number">1</span>)&#125;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>updateBook.jsp</p>
<pre><code class="hljs jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: <span class="hljs-number">20964</span>
  Date: <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">15</span>
  Time: <span class="hljs-number">9</span>:<span class="hljs-number">42</span>
  To change <span class="hljs-keyword">this</span> template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ä¿®æ”¹ä¿¡æ¯&lt;/title&gt;
    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;
    &lt;!-- å¼•å…¥ Bootstrap --&gt;
    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;

    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;
        &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;
            &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;
                &lt;h1&gt;
                    &lt;small&gt;ä¿®æ”¹ä¿¡æ¯&lt;/small&gt;
                &lt;/h1&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/updateBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;
        &lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;bookID&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookID()&#125;&quot;</span>/&gt;
        ä¹¦ç±åç§°ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookName()&#125;&quot;</span>/&gt;
        ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookCounts()&#125;&quot;</span>/&gt;
        ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getDetail() &#125;&quot;</span>/&gt;
        &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æäº¤&quot;</span>/&gt;
    &lt;/form&gt;

&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol start="11">
<li>é…ç½®Tomcatï¼Œæµ‹è¯•è¿è¡Œ</li>
</ol>
<p><img src="/images/SpringMVC/image-20201215223809342.png" srcset="/img/loading.gif" alt="image-20201215223809342"></p>
<p><img src="/images/SpringMVC/image-20201215223846170.png" srcset="/img/loading.gif" alt="image-20201215223846170"></p>
<p><img src="/images/SpringMVC/image-20201215223901515.png" srcset="/img/loading.gif" alt="image-20201215223901515"></p>
<p><img src="/images/SpringMVC/image-20201215223952388.png" srcset="/img/loading.gif" alt="image-20201215223952388"></p>
<p>æ‰€æœ‰é€»è¾‘ç»è¿‡æµ‹è¯•éƒ½èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼ï¼</p>
<img src="/images/SpringMVC/image-20201215224045736.png" srcset="/img/loading.gif" alt="image-20201215224045736" style="zoom:50%;" />

<p>æ•´ä¸ªé¡¹ç›®çš„githubåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/Crazyrw/ssm.git">https://github.com/Crazyrw/ssm.git</a></p>
<h3 id="6-3-é‡åˆ°çš„é—®é¢˜"><a href="#6-3-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="6.3 é‡åˆ°çš„é—®é¢˜"></a>6.3 é‡åˆ°çš„é—®é¢˜</h3><ol>
<li><p>java.sql.SQLExce1ption: Access denied for user â€˜20964â€™@â€™localhostâ€™ (using password: YES). </p>
<p>æŸ¥çœ‹database.propertiesä¸­çš„æ•°æ®åº“åç§°æœ‰æ²¡æœ‰é”™è¯¯ä»¥åŠusernameæœ€å¥½ä¸è¦å•ç‹¬å†™ï¼Œæœ€å¥½å†™jdbc.username</p>
</li>
<li><p>java.lang.AbstractMethodError: Method com/mchange/v2/c3p0/impl/NewProxyResultSet.isClosed()Z is abstract</p>
<ul>
<li>com.mchange-c3p0 å’Œ mchange-commons-javaä¸¤ä¸ªçš„ä¾èµ–éƒ½å¿…é¡»å¯¼å…¥</li>
<li>è‡ªè¡Œç™¾åº¦ç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼Œå¦‚æœä¹‹å‰ç‰ˆæœ¬ä¸å¯¹ï¼Œä¸€å®šè¦cleanä¸€ä¸‹ï¼Œå¹¶ä¸”æ£€æŸ¥<strong>libæ–‡ä»¶å¤¹ä¸­çš„jaræ˜¯å¦æ­£ç¡®ï¼ï¼</strong></li>
</ul>
</li>
<li><p>å½“é‡åˆ°æ‰¾ä¸åˆ°æ‰¾ä¸åˆ°ç±»çš„æƒ…å†µï¼Œè®°å¾—è€ƒè™‘ä¸€ä¸‹æ˜¯ä¸æ˜¯libçš„é—®é¢˜</p>
</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/12/11/%E8%A7%A3%E5%86%B3idea%20maven%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E4%B8%AD%E6%B2%A1%E6%9C%89JSP%E6%96%87%E4%BB%B6/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">è§£å†³idea mavenä¸­æ–°å»ºæ–‡ä»¶æ²¡æœ‰JSPé€‰é¡¹</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/12/08/Typora%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7/">
                        <span class="hidden-mobile">Typoraæ•°å­¦ç¬¦å·å¤§å…¨</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>


  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?7d2fd3d56f2287a0bda354d214258de6";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>
